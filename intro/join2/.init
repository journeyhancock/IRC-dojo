#!/opt/pwn.college/python

import subprocess
import pathlib

dir = pathlib.Path(__file__).parent

with open(dir / "thisworks.txt", "w") as f:
    f.write(f"{dir}\n")

commands = ["cd /challenge/sic-1.3", "sudo make", "sudo make install"]

for command in commands:
    try:
        subprocess.run(command, shell=True, check=True)
        with open(dir / "yes.txt", "a") as f:
            f.write(f"Successfully executed: {command} \n")
        with open("yes.txt", "a") as f:
            f.write(f"Successfully executed: {command} \n")

    except subprocess.CalledProcessError as e:
        with open(dir / "no.txt", "a") as f:
            f.write(f"Error occurred while executing: {command} \n")